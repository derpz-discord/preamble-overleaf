\ProvidesPackage{preamble}

\usepackage[dvipsnames, table, xcdraw]{xcolor}
\usepackage{amsfonts, amsthm, amsmath, amssymb}
\usepackage{mathtools}
\usepackage{cancel, textcomp}
\usepackage[mathscr]{euscript}
\usepackage[nointegrals]{wasysym}
\usepackage{physics}
\usepackage{tikz}
\usepackage{tikz-cd}  % commutative diagrams
\usepackage{microtype}  % Minature font tweaks
\usepackage{braket} % Make sets
\usepackage{esdiff} % Write derivatives
\usepackage{xparse} % for multiple default args
\usepackage{xargs}
\usepackage{exercises} % for typesetting exercises
\usepackage{enumitem}
\usepackage{bm}
\usepackage{multicol, titletoc, bookmark, parskip}

\usepackage{thmtools}
\usepackage[framemethod = TikZ]{mdframed}
\mdfsetup{skipabove = 1em, skipbelow = 0em}

\usepackage{hyperref}
\usepackage[noabbrev,capitalise,nameinlink]{cleveref}
\hypersetup{colorlinks={true},linkcolor={blue},citecolor=green}


% Common shortcuts
\def\mbb#1{\mathbb{#1}}
\def\mfk#1{\mathfrak{#1}}
\def\mc#1{\mathcal{#1}}

\def\bN{\mbb{N}}
\def\bC{\mbb{C}}
\def\bR{\mbb{R}}
\def\bQ{\mbb{Q}}
\def\bZ{\mbb{Z}}

% Sometimes helpful macros
\newcommand{\func}[3]{#1\colon#2\to#3}

\newcommand{\vfunc}[5]{\func{#1}{#2}{#3},\quad#4\longmapsto#5}
\newcommand{\floor}[1]{\left\lfloor#1\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil#1\right\rceil}

% Theorem environment configuration
% colors stolen from math discord

\declaretheoremstyle[
		headfont = \bfseries\sffamily\color{ForestGreen!70!black},
		bodyfont = \normalfont,
		mdframed = {
		linewidth = 2pt,
		rightline = false,
		topline = false,
		bottomline = false,
		linecolor = ForestGreen,
		backgroundcolor = ForestGreen!5,
		}
]{greenbox}
\declaretheoremstyle[
		headfont = \bfseries\sffamily\color{NavyBlue!70!black},
		bodyfont = \normalfont,
		mdframed = {
		linewidth = 2pt,
		rightline = false,
		topline = false,
		bottomline = false,
		linecolor = NavyBlue,
		backgroundcolor = NavyBlue!5,
		}
]{bluebox}
\declaretheoremstyle[
		headfont = \bfseries\sffamily\color{Mulberry!70!black},
		bodyfont = \normalfont,
		mdframed = {
		linewidth = 2pt,
		rightline = false,
		topline = false,
		bottomline = false,
		linecolor = Mulberry,
		backgroundcolor = Mulberry!5,
		}
]{purplebox}
\declaretheoremstyle[
		headfont = \bfseries\sffamily\color{RawSienna!70!black},
		bodyfont = \normalfont,
		mdframed = {
		linewidth = 2pt,
		rightline = false,
		topline = false,
		bottomline = false,
		linecolor = RawSienna,
		backgroundcolor = RawSienna!5,
		}
]{redbox}
\declaretheoremstyle[
		headfont = \bfseries\sffamily\color{RawSienna!70!black},
		bodyfont = \normalfont,
		numbered = no,
		mdframed = {
		linewidth = 2pt,
		rightline = false,
		topline = false,
		bottomline = false,
		linecolor = RawSienna,
		backgroundcolor = RawSienna!1,
		},
		qed = \qedsymbol
]{proofbox}

\declaretheorem[style = proofbox, name = Trivial Proof]{trivialproof}

\declaretheorem[name = Theorem, numberwithin=subsection]{theorem}
\declaretheorem[name = Theorem, numberwithin=section, style=purplebox]{importantthm}
\declaretheorem[name = Proposition, style=plain, numberwithin=subsection]{proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{claim}[theorem]{Claim}

\declaretheorem[style = greenbox, name = Definition, numberwithin=section]{definition}
\declaretheorem[style = greenbox, name = Notation, numberwithin=section]{notation}
\declaretheorem[style = greenbox, name = Axiom, numberwithin=section]{axiom}

\declaretheorem[style = bluebox, name = Example, numberwithin=subsection]{example}
\declaretheorem[style = bluebox, name = Recall, numbered=no]{recall}

% End theorem environment configuration


% Fractions
\def\f#1/#2.{\frac{#1}{#2}}

% Common things
\newcommand{\inv}{^{-1}}
\renewcommand{\abs}[1]{\lvert #1 \rvert}
\newcommand{\paren}[1]{\ensuremath{\left(#1\right)}}

% Colorize things
\newcommand{\tblue}[1]{\textcolor{blue}{#1}}
\newcommand{\tred}[1]{\textcolor{red}{#1}}
\newcommand{\tgreen}[1]{\textcolor{green}{#1}}
\newcommand{\tcyan}[1]{\textcolor{black}{#1}}

% Overbrace and underbrace
\newcommand{\ob}[2]{\ensuremath{\overbrace{#1}^{\text{#2}}}}
\newcommand{\ub}[2]{\ensuremath{\underbrace{#1}_{\text{#2}}}}

% Piecewise
\newcommand{\pw}[2]{\ensuremath{#1 = \begin{cases}#2\end{cases}}}
\newcommand{\piece}[2]{\ensuremath{#1 & \text{if} \, #2 \\}}

% Set theory things
\renewcommand{\emptyset}{\varnothing}
\newcommand*{\medcap}{\mathbin{\scalebox{1.5}{\ensuremath{\cap}}}}
\newcommand*{\medcup}{\mathbin{\scalebox{1.5}{\ensuremath{\cup}}}}
% end set theory things
% Proof symbols 
\newcommand{\forwarddir}{\ensuremath{(\Rightarrow) \quad}}
\newcommand{\conversedir}{\ensuremath{(\Leftarrow) \quad}}
% End proof symbols
% Analysis stuff
\newcommand{\eps}{\varepsilon}
\newcommand{\halfeps}{\frac{\eps}{2}}
\newcommand{\limtoinf}[2]{
    \ensuremath{
        \lim_{#1 \to \infty}{#2}
    }
}
% Usage: \seq{x}{n} -> (x_n)
\newcommand*{\seq}[2]{\ensuremath{\paren{#1_{#2}}}}
\newcommand*{\seqlim}[2]{\ensuremath{\limtoinf{#2}{\seq{#1}{#2}}}}
\NewDocumentCommand{\app}{O{x} O{\infty}}{\xrightarrow{#1\to#2}}
% End analysis stuff
% Algebra macros
\def\zgroup#1.{
    \ensuremath{
        \bZ_{#1} = \set{0, 1, \dotsc, \the\numexpr#1-1}
    }
}

\newcommand{\gen}[1]{
    \ensuremath{
        \langle #1 \rangle
    }
}
% End Algebra macros
% Topology macros
% Usage: \ball{radius}{metric}{point}
\newcommand{\ball}[3]{\ensuremath{
B_{#1}^{(#2)} (#3)
}}
\newcommand{\cball}[3]{\ensuremath{
B_{#1}^{(#2)} [#3]
}}
\newcommand{\metrictop}[1]{\ensuremath{\mc T_{#1}}}
% \newcommand{\metricspace}[2]{Let \ensuremath{(#1, #2)} be a metric space}
\newcommandx{\metricspace}[2][1=X, 2=d]{Let \ensuremath{(#1, #2)} be a metric space.}
\newcommand*{\Interior}[1]{\ensuremath{\textnormal{Int} \, #1}}
\newcommand*{\Exterior}[1]{\ensuremath{\textnormal{Ext} \, #1}}
\newcommand*{\Boundary}[1]{\ensuremath{\partial \, #1}}
\newcommand*{\nbhd}[1]{\ensuremath{V\paren{#1}}}
\newcommandx{\topospace}[2][1=X, 2=T]{Let \ensuremath{(#1, \mathcal{#2})} be a topological space.}
\newcommand*{\cl}[1]{\overline{#1}}
% End topology macros
